<form class="form-horizontal">
  <div class="control-group">
    <h3>{{ _('Times To Display') }}</h3>
    <!-- ko foreach: displayLines -->
      <label class="checkbox">
        <input type="checkbox" data-bind="checked: enabled">
        <div type="checkbox" data-bind="text: description"></div>
      </label>
    <!-- /ko -->
  </div>

  <div>
    <small>
      <a href="#" class="muted" onclick="$(this).children().toggleClass('fa-caret-right fa-caret-down').parent().parent().parent().next().slideToggle('fast')">
        <i class="fa fa-caret-right"></i> {{ _('Advanced') }}
      </a>
    </small>
  </div>
  <div class="hide" style="display: none;">
    <button class="btn" title="{{ _('Reset to the defaults') }}"
            data-bind="event: { click: resetToDefault }">{{ _('Reset to default') }}</button>
    <div style="margin-top: 5px" data-bind="foreach: displayLines">
      <a title="{{ _('Remove this display line') }}" class="btn btn-danger" data-bind="click: $parent.removeLine"><i class="fa fa-trash-o"></i></a>
      <div class="control-group">
        <label class="control-label">Description</label> <div class="controls"><input type="text" class="input-block-level" data-bind="textInput: description"></div>
        <label class="control-label">Regex</label> <div class="controls"><input type="text" class="input-block-level" data-bind="textInput: regex"></div>
        <label class="control-label">Format (UI)</label> <div class="controls"><textarea rows=3 class="input-block-level" data-bind="textInput: format"></textarea></div>
        <label class="control-label">Format (External)</label> <div class="controls"><textarea rows=3 class="input-block-level" data-bind="textInput: formatExternal"></textarea></div>
        <label class="control-label">Enabled (UI)</label> <div class="controls"><input type="checkbox" style="margin-left: 20px" data-bind="checked: enabled"></div><br>
        <label class="control-label">Enabled (External)</label> <div class="controls"><input type="checkbox" style="margin-left: 20px" data-bind="checked: enabledExternal"></div><br>
        <label class="control-label">Sample Output</label> <div class="controls"><div class="input-block-level" data-bind="html: $parent.sampleFormatOutput($index)"></div></div>
      </div>
    </div>
    <div class="row-fluid">
      <div style="margin-top: 5px">
        <a title="{{ _('Add ') }}" class="btn btn-primary" data-bind="click: addLine"><i class="fa fa-plus"></i></a>
      </div>
    </div>
    <h3>Sample gcode and sample "this" for formats above</h3>
    <textarea rows=10 class="span10" data-bind="textInput: sampleGcode"></textarea>
    <textarea rows=10 class="span10" data-bind="textInput: JSON.stringify(sampleOutput(), null, 2)"></textarea>
  </div>
</form>
